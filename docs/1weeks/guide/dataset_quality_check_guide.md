# 📊 따릉이 데이터 카테고리별 품질 검사 가이드 (Data Quality Check Guide)

본 문서는 따릉이 데이터셋을 구성하는 **4개 데이터 카테고리(운영·공간·시간·환경)**에 대하여  
각 유형별로 일반적으로 수행해야 하는 **데이터 품질 검사 항목**을 정리한 공식 가이드입니다.

---

# ## 1. 운영 이벤트 데이터 (Operational Event Data)

운영 이벤트 데이터는 실제 **대여/반납/거치 정보**를 포함하므로 품질 점검에서 가장 중요합니다.

### ✔ 주요 품질 검사 항목

### **1) 기간(연도/월/일) 연속성 검사**
- 일자 누락 여부  
- 시간대 누락 여부 (0~23시 전부 있는지)  
- 데이터 수집 기간의 불연속성 체크  

### **2) 필수 컬럼 결측치 검사**
- 대여일시, 대여소 ID, 반납소 ID  
- 이용시간, 이용거리  
- 결측/NULL → “Missing Operational Event”로 분류

### **3) 논리적 이상치(Logical Consistency) 검사**
- 이용시간 < 0  
- 이용거리 < 0  
- 0m 이동 + 5분 이상 사용 → 반납 오류  
- 속도 > 40km/h → 위치/GPS 오류  

### **4) ID 매칭 검사**
- 대여소 ID가 대여소 마스터에 존재하는지  
- 자치구 코드가 실제 행정구역과 일치하는지  

---

# ## 2. 공간·입지 데이터 (Spatial / Location Data)

대여소 위치 및 주변 POI 기반 데이터는 공간 모델의 핵심이므로 위치 정확성 검증이 핵심입니다.

### ✔ 주요 품질 검사 항목

### **1) 좌표(lat/lon) 유효성 검사**
- 위도 37~38, 경도 126~127.7 범위인지  
- (0,0) → “Invalid Spatial Coordinate”  
- null → 결측 처리  

### **2) 거리 값 품질 검사**
- n_station_dis, n_busstop_dis 등  
- 0m(비정상) 여부  
- 음수 거리 여부  
- 10km 이상 과도거리 → POI 매칭 오류 가능성

### **3) 반경 POI 개수의 일관성 검사**
- station_w100m_N ∈ [0~3]  
- busstop_b500m_N ∈ [1~20]  
- school/park 반경 값 지나치게 많으면 중복 POI 의심

### **4) POI 명칭 일관성 검사**
- '서울매동초등학교' / '매동초' 같은 이름 불일치  
- '효자로입구(가상)' → Virtual POI는 별도 구분해야 함

---

# ## 3. 시간 기반 데이터 (Time-series Data)

시간 단위 수요는 시계열 모델링을 위해 **정합성(Completeness)** 점검이 매우 중요합니다.

### ✔ 주요 품질 검사 항목

### **1) 날짜·시간 포맷 검사**
- datetime 변환 가능 여부  
- 포맷 혼재 여부 (“20210101”, “2021-01-01”)  

### **2) 시간대/일자 누락 검사**
- 하루 24시간 중 비어 있는 시간 존재 여부  
- 특정 날짜 전체 누락 여부  

### **3) Aggregation 논리 검사**
- 시간별 데이터가 일별 합계와 맞는지  
- 중복 집계 확인 (2번 합산된 경우)  

### **4) 계절성/추세 값 이상치 검사**
- 명절/폭우/폭설 날의 자연스러운 수요 변화인지  
- 갑자기 폭증한 값이 이벤트성인지 오류인지 판단

---

# ## 4. 상황·환경 데이터 (Contextual Data)

날씨 등 외부 요인은 수요 모델에 큰 영향을 주기 때문에  
수집 시 품질 점검도 중요합니다.

### ✔ 주요 품질 검사 항목

### **1) 날씨 수집 누락 검사**
- 강수량/기온 데이터가 null인 날짜 확인  
- 기상청 API 갱신 실패 여부 점검  

### **2) 물리적으로 불가능한 값 검사**
- 기온 -50°C, 80°C 등 → 센서 오류  
- 강수량 음수값 → 오류  
- 풍속 음수값 → 오류  

### **3) 단위(Scale) 확인**
- 풍속: m/s 또는 km/h  
- 강수량: mm 또는 cm  
- 단위 불일치 시 반드시 변환 필요  

### **4) 시간 정렬(Time alignment) 검사**
- 날씨 시간(예: 09시)이 수요 시간과 정렬되는지  
- 타임존 불일치 여부(UTC/Asia-Seoul)

---

# ## Summary – 카테고리별 품질 검사 핵심 항목

| 카테고리 | 검사 핵심 포인트 | 주요 오류 유형 |
|----------|------------------|----------------|
| 운영 이벤트 데이터 | 대여/반납·시간·거리의 논리적 일관성 | 음수, 비정상 속도, ID 불일치 |
| 공간·입지 데이터 | 좌표 정확성, 거리·POI 일관성 | 0,0 좌표, 비정상 거리 |
| 시간 기반 데이터 | 시간/일자 누락, 포맷 정합성 | Missing timestamps, 중복 집계 |
| 상황·환경 데이터 | 단위·물리적 범위·시간 정렬 | 음수 강수량, 시간 불일치 |

---

해당 문서는 **따릉이 수요 예측 프로젝트의 품질 검증 공식 문서**로 활용 가능하도록 구성되었습니다.
