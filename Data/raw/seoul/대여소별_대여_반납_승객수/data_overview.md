# 🚲 서울시 따릉이 – **대여소별 대여/반납/승객수(이동 이력) 데이터 스키마**

이 데이터는 **대여소 간 이동(출발 → 도착)** 단위로 집계된 따릉이 이용 이력입니다.  
특정 날짜/시간대에 **어떤 대여소에서 출발하여 어떤 대여소에 도착했는지**,  
또한 **총 이용 건수 / 평균 이동시간 / 이동거리** 등을 분석할 수 있습니다.

---

## 📂 데이터 컬럼 설명 (Schema)

| 컬럼명 | 데이터 타입 | 설명 |
|--------|--------------|------|
| **기준_날짜** | `int` or `string(YYYYMMDD)` | 통계가 집계된 기준 날짜 |
| **구분코드** | `int` | 대여/반납 타입 코드 (예: 0 = 대여?, 1 = 반납? 등, 데이터 제공처 기준에 따름) |
| **기준_시간** | `string(HHMM)` | 데이터가 집계된 기준 시간 (예: `"0000"` = 00시) |
| **시작_대여소ID** | `string` | 출발 대여소 ID (`ST-xxx`) |
| **시작_대여소명** | `string` | 출발 대여소 이름 |
| **종료_대여소ID** | `string` | 도착 대여소 ID |
| **종료_대여소명** | `string` | 도착 대여소 이름 |
| **전체건수** | `int` | 해당 출발 → 도착 조합에서 발생한 전체 이용 건수 |
| **전체이용시간(분)** | `int` | 모든 건수의 총 이용시간(분 단위) |
| **전체이용거리(m)** | `int` | 모든 건수의 총 이동거리(미터 단위) |

---

## 📊 예시 데이터 (Sample Rows)

| 기준_날짜 | 구분코드 | 기준_시간 | 시작_대여소ID | 시작_대여소명 | 종료_대여소ID | 종료_대여소명 | 전체건수 | 전체이용시간(분) | 전체이용거리(m) |
|-----------|-----------|-------------|----------------|----------------|----------------|----------------|-----------|---------------------|------------------|
| 20200101 | 0 | 0000 | ST-443 | 성산2동_041_2 | ST-82 | 성산2동_041_3 | 1 | 2  | 450 |
| 20200101 | 0 | 0000 | ST-56 | 여의동_005_10 | ST-1321 | 영등포동_036_1 | 1 | 10 | 1460 |
| 20200101 | 0 | 0000 | ST-1546 | 조원동_004_1 | ST-703 | 신사동_023_1 | 1 | 5 | 700 |
| 20200101 | 1 | 0000 | ST-1701 | 당산2동_065_1 | ST-1701 | 당산2동_065_1 | 1 | 28 | 70670 |
| 20200101 | 1 | 0000 | ST-1390 | 수유2동_030_1 | ST-1101 | 미아동_010_1 | 1 | 14 | 59030 |
| 20200101 | 1 | 0000 | ST-1128 | 하계1동_008_1 | ST-1473 | 중계본동_032_1 | 1 | 11 | 1170 |
| 20200101 | 0 | 0000 | ST-26 | 대흥동_015_1 | ST-202 | 공덕동_076_1 | 1 | 11 | 1670 |
| 20200101 | 1 | 0000 | ST-118 | 사직동_004_1 | ST-978 | 청운효자동_023_1 | 1 | 98 | 1160 |

---

## 📌 분석 활용 포인트

- **OD(Origin–Destination) 분석 가능**
  - 어느 대여소에서 어느 대여소로 얼마나 이동하는지 파악  
  - 출퇴근 시간 혹은 특정 지역의 흐름 분석

- **수요 예측 피처 생성 가능**
  - 특정 시간대에 출발량·도착량 비율 계산  
  - 대여소 혼잡도 예측(공급 수요 밸런스 분석)

- **이동 거리·시간 기반 서비스 품질 분석**
  - 평균 이동시간(전체이용시간/전체건수)  
  - 평균 이동거리 산출 가능

- **대여소 클러스터링**
  - OD 매트릭스를 기반으로 지역 간 연결 강도 분석  
  - 교통 네트워크 기반 정류장 중심성(centrality) 연구 가능

---

## 📌 파생 컬럼 생성 아이디어

| 파생 변수 | 설명 |
|-----------|------|
| `평균이용시간` | 전체이용시간(분) / 전체건수 |
| `평균이동거리` | 전체이용거리(m) / 전체건수 |
| `hour` | 기준_시간에서 추출(예: "0000" → 0시) |
| `weekday` | 기준_날짜를 요일로 변환 |
| `flow_type` | 구분코드 기반 대여/반납/순환 여부 구분 |
| `is_same_station` | 출발=도착 여부 (True/False) |

---
